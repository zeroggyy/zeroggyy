<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SGF Lobby UI - Direct Launch</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700;900&display=swap');

        body {
            background-color: #000;
            color: white;
            font-family: 'Noto Sans TC', sans-serif;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
        }

        /* 16:9 å›ºå®šæ¯”ä¾‹å®¹å™¨ */
        .game-container {
            width: 100%;
            max-width: 177.78vh;
            aspect-ratio: 16 / 9;
            background: #000;
            position: relative;
            box-shadow: 0 0 100px rgba(0,0,0,0.9);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* èƒŒæ™¯å®‰å…¨å€åŸŸæ–¹æ¡ˆ */
        .background-layer {
            position: absolute;
            top: -10%;
            left: -10%;
            width: 120%;
            height: 120%;
            z-index: 0;
            overflow: hidden;
            pointer-events: none;
        }

        .bg-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.3) contrast(1.1);
            transition: transform 1.2s cubic-bezier(0.2, 1, 0.3, 1);
            transform: scale(1.1);
        }

        .bg-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(90deg, 
                rgba(0,0,0,1) 0%, 
                rgba(0,0,0,0.85) 15%, 
                rgba(0,0,0,0.2) 50%, 
                rgba(0,0,0,0.85) 85%, 
                rgba(0,0,0,1) 100%);
        }

        /* æç¤ºç´…é»æ¨£å¼ */
        .badge-red {
            position: absolute;
            width: 12px;
            height: 12px;
            background-color: #ff3b30;
            border-radius: 50%;
            border: 2px solid #000;
            box-shadow: 0 0 10px rgba(255, 59, 48, 0.8);
            animation: badge-pulse 2s infinite;
            z-index: 30;
        }

        @keyframes badge-pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 59, 48, 0.7); }
            70% { transform: scale(1.2); box-shadow: 0 0 0 6px rgba(255, 59, 48, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 59, 48, 0); }
        }

        /* é¸å–®å‚ç›´æ¸…å–®é …ç›® */
        .menu-item {
            transition: all 0.3s cubic-bezier(0.2, 1, 0.3, 1);
            position: relative;
            cursor: pointer;
            letter-spacing: 2px;
            padding-left: 20px;
            width: fit-content;
            color: rgba(255, 255, 255, 0.4);
            white-space: nowrap;
        }

        .menu-item:hover, .menu-item.active {
            color: #39FF14;
            transform: translateX(15px);
            text-shadow: 0 0 20px rgba(57, 255, 20, 0.6);
        }

        .menu-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            width: 4px;
            height: 0;
            background: #39FF14;
            transition: height 0.3s, top 0.3s;
            transform: translateY(-50%);
        }

        .menu-item:hover::before, .menu-item.active::before {
            height: 80%;
        }

        /* æ­¦å°‡é ­åƒæ¡† */
        .portrait-frame {
            aspect-ratio: 1 / 1;
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            position: relative;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .portrait-frame:hover {
            border-color: #39FF14;
            box-shadow: 0 0 25px rgba(57, 255, 20, 0.4);
            transform: scale(1.08) rotate(1deg);
            z-index: 10;
        }

        .portrait-frame.locked {
            filter: grayscale(1) brightness(0.4);
        }

        .portrait-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .lock-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 32px;
            opacity: 0.8;
            color: white;
            text-shadow: 0 0 10px rgba(0,0,0,0.8);
            z-index: 5;
        }

        .char-name-tag {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(0deg, rgba(0,0,0,0.9), transparent);
            padding: 10px 4px;
            text-align: center;
            font-size: 14px;
            font-weight: 900;
            letter-spacing: 2px;
            text-transform: uppercase;
            z-index: 6;
        }

        /* å•†åŸå…ƒä»¶æ¨£å¼ */
        .store-item-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            cursor: pointer;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .store-item-card:hover {
            background: rgba(57, 255, 20, 0.05);
            border-color: #39FF14;
            box-shadow: 0 0 20px rgba(57, 255, 20, 0.2);
            transform: translateY(-5px);
        }

        .store-price-tag {
            background: rgba(0, 0, 0, 0.8);
            border-top: 1px solid rgba(57, 255, 20, 0.3);
            padding: 4px 8px;
            text-align: right;
            font-size: 10px;
            font-weight: 900;
            color: #39FF14;
        }

        /* å°è¦½åˆ—æ¨™ç±¤ */
        .nav-tab {
            font-size: 11px;
            font-weight: 900;
            color: rgba(255, 255, 255, 0.3);
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            transition: all 0.2s;
            padding: 12px 24px;
            border-bottom: 2px solid transparent;
        }

        .nav-tab.active {
            color: #39FF14;
            background: linear-gradient(180deg, rgba(57, 255, 20, 0.15) 0%, transparent 100%);
            border-bottom-color: #39FF14;
        }

        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #39FF14; }
        .no-scrollbar::-webkit-scrollbar { display: none; }

        /* å´é‚Šé¸å–®æ¨£å¼ */
        #sideDrawer { transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1); z-index: 100; }
        #drawerOverlay { transition: opacity 0.4s ease; z-index: 90; }

        .drawer-item {
            transition: all 0.2s ease;
            cursor: pointer;
            border-left: 0px solid #39FF14;
            position: relative;
        }

        .drawer-item:hover {
            background: rgba(57, 255, 20, 0.1);
            color: #39FF14;
            border-left-width: 6px;
            padding-left: 32px;
        }

        /* æ¨¡æ“¬å•Ÿå‹•ç‰¹æ•ˆé®ç½© */
        #launchOverlay {
            position: fixed;
            inset: 0;
            background: black;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.5s ease-in-out;
        }

        #launchOverlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .loading-bar {
            width: 200px;
            height: 2px;
            background: rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .loading-bar::after {
            content: '';
            position: absolute;
            left: -100%;
            width: 100%;
            height: 100%;
            background: #39FF14;
            box-shadow: 0 0 10px #39FF14;
            animation: loading-slide 1.5s infinite;
        }

        @keyframes loading-slide {
            to { left: 100%; }
        }
    </style>
</head>
<body>

    <!-- æ¨¡æ“¬éŠæˆ²å•Ÿå‹•é®ç½© -->
    <div id="launchOverlay">
        <div class="flex flex-col items-center gap-4">
            <div class="text-[10px] font-black text-[#39FF14] tracking-[0.5em] uppercase animate-pulse">Initializing Roguelike Mode</div>
            <div class="loading-bar"></div>
        </div>
    </div>

    <div class="game-container">
        <!-- å´é‚Šé¸å–®é®ç½© -->
        <div id="drawerOverlay" class="absolute inset-0 bg-black/70 opacity-0 pointer-events-none" onclick="toggleDrawer(false)"></div>

        <!-- å´é‚Šé¸å–®å…§å®¹ -->
        <div id="sideDrawer" class="absolute inset-y-0 left-0 w-80 bg-[#0a0a0a]/95 border-r border-white/10 backdrop-blur-2xl -translate-x-full flex flex-col shadow-2xl">
            <div class="p-10 border-b border-white/5">
                <div class="text-[10px] font-black text-[#39FF14] tracking-[0.4em] mb-2 uppercase">System Interface</div>
                <div class="text-2xl font-black italic">LEGEND_WARRIOR_01</div>
            </div>
            <div class="flex-1 py-6 flex flex-col">
                <div class="drawer-item px-10 py-4 font-black text-sm tracking-widest uppercase">å€‹äººè³‡æ–™</div>
                <div class="drawer-item px-10 py-4 font-black text-sm tracking-widest uppercase">å¥½å‹</div>
                <div class="drawer-item px-10 py-4 font-black text-sm tracking-widest uppercase">å°æˆ°é‡æ’­</div>
                <div class="drawer-item px-10 py-4 font-black text-sm tracking-widest uppercase">æ’è¡Œæ¦œ</div>
                <div class="drawer-item px-10 py-4 font-black text-sm tracking-widest uppercase">è¨­å®š</div>
                <div class="drawer-item px-10 py-4 font-black text-sm tracking-widest uppercase flex items-center justify-between">
                    <span>é€šçŸ¥</span>
                    <div class="w-2.5 h-2.5 bg-[#ff3b30] rounded-full shadow-[0_0_8px_#ff3b30]"></div>
                </div>
                <div class="drawer-item px-10 py-4 font-black text-sm tracking-widest uppercase">æ”¯æ´</div>
                <div class="mt-auto border-t border-white/5 p-10 font-black text-sm tracking-[0.2em] uppercase text-white/30 hover:text-red-500 cursor-pointer">é›¢é–‹éŠæˆ²</div>
            </div>
        </div>

        <div class="background-layer">
            <img id="mainBg" src="https://images.unsplash.com/photo-1614850523296-d8c1af93d400?auto=format&fit=crop&q=80&w=2070" class="bg-image">
            <div class="bg-overlay"></div>
        </div>

        <!-- 1. é ‚éƒ¨å°è¦½ -->
        <nav class="relative z-20 flex flex-col bg-black/85 border-b border-white/10">
            <div class="flex items-center justify-between px-10 py-4">
                <div class="flex items-center gap-10">
                    <div class="text-4xl font-black italic tracking-tighter text-white">SGF <span class="text-[10px] font-normal not-italic opacity-40 ml-1">LOBBY</span></div>
                    
                    <div class="flex items-center gap-4 pl-10 border-l border-white/15 cursor-pointer group relative" onclick="toggleDrawer(true)">
                        <div class="relative w-11 h-11">
                            <div class="w-full h-full rounded-full border-2 border-[#39FF14] overflow-hidden bg-zinc-800">
                                <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&q=80&w=100" class="w-full h-full object-cover">
                            </div>
                            <div class="badge-red -bottom-0.5 -right-0.5"></div>
                        </div>
                        <div class="flex flex-col leading-none">
                            <span class="text-[9px] font-black text-[#39FF14] tracking-[0.2em] uppercase mb-1">Rank: Master</span>
                            <span class="text-sm font-black italic group-hover:text-[#39FF14]">LEGEND_WARRIOR_01</span>
                        </div>
                    </div>
                </div>
                <div class="flex items-center gap-10">
                    <div class="flex gap-4 bg-white/5 px-5 py-1.5 rounded-full border border-white/10 text-xs font-black">
                        <span class="text-white/30 uppercase">Gems</span><span class="text-[#39FF14]">12,400</span>
                    </div>
                    <div class="flex gap-4 bg-white/5 px-5 py-1.5 rounded-full border border-white/10 text-xs font-black">
                        <span class="text-white/30 uppercase">Gold</span><span class="text-yellow-400">850,000</span>
                    </div>
                </div>
            </div>
            <div class="flex items-center gap-2 px-10 bg-white/5 no-scrollbar">
                <div class="bumper-hint px-2 py-0.5 border border-white/20 rounded text-[10px] font-black opacity-40">L1</div>
                <div id="tabContainer" class="flex">
                    <span class="nav-tab active" onclick="switchTab('Online')">Online</span>
                    <span class="nav-tab" onclick="switchTab('Offline')">Offline</span>
                    <span class="nav-tab" onclick="switchTab('æ­¦å°‡')">æ­¦å°‡</span>
                    <span class="nav-tab" onclick="switchTab('é€šè¡Œè­‰')">é€šè¡Œè­‰</span>
                    <span class="nav-tab" onclick="switchTab('ä»»å‹™')">ä»»å‹™</span>
                    <span class="nav-tab" onclick="switchTab('å•†åŸ')">å•†åŸ</span>
                    <span class="nav-tab" onclick="switchTab('èƒŒåŒ…')">èƒŒåŒ…</span>
                </div>
                <div class="bumper-hint px-2 py-0.5 border border-white/20 rounded text-[10px] font-black opacity-40">R1</div>
            </div>
        </nav>

        <!-- 2. ä¸­å¤®å…§å®¹å€åŸŸ -->
        <main class="relative z-20 flex-1 flex items-center px-20 overflow-hidden">
            <!-- å·¦å´åˆ†é¡èˆ‡æ¸…å–®å€ -->
            <div id="leftContentArea" class="w-1/4 flex flex-col justify-center h-full">
                <div id="categoryLabel" class="text-[#39FF14] text-[10px] font-black tracking-[0.5em] mb-6 uppercase">ONLINE MODES</div>
                <div id="menuContainer" class="flex flex-col gap-2"></div>
            </div>

            <!-- å³å´å±•ç¤ºèˆ‡é¢æ¿å€åŸŸ -->
            <div id="rightDisplayArea" class="flex-1 h-full flex flex-col justify-center overflow-hidden">
                <!-- é è¦½å¡ç‰‡ (é€šç”¨) -->
                <div id="previewCard" class="w-[340px] p-6 bg-black/70 border border-white/15 backdrop-blur-xl rounded-xl shadow-2xl ml-auto">
                    <div class="flex justify-between items-center mb-5">
                        <span id="previewLabel" class="text-[10px] font-black tracking-[0.2em] opacity-40 uppercase">Details</span>
                        <span id="statusBadge" class="text-[10px] border border-[#39FF14] text-[#39FF14] px-3 py-0.5 rounded-full font-black uppercase">Online</span>
                    </div>
                    <div class="aspect-video bg-zinc-800 rounded-lg overflow-hidden mb-5 border border-white/10">
                        <img id="previewImg" src="https://images.unsplash.com/photo-1542751371-adc38448a05e?auto=format&fit=crop&q=80&w=600" class="w-full h-full object-cover">
                    </div>
                    <h3 id="previewTitle" class="text-xl font-black mb-2 italic tracking-tight">æº–å‚™å°±ç·’</h3>
                    <p id="previewDesc" class="text-xs text-white/40 leading-relaxed font-medium">è«‹é¸æ“‡ä¸€å€‹é …ç›®ä»¥æŸ¥çœ‹è©³ç´°è³‡è¨Šã€‚</p>
                </div>

                <!-- ä»»å‹™é¢æ¿ -->
                <div id="missionPanel" class="hidden w-[520px] h-[440px] bg-black/70 border border-white/15 backdrop-blur-xl rounded-xl p-8 flex flex-col ml-auto">
                    <h2 id="missionPanelTitle" class="text-xl font-black italic text-[#39FF14] mb-6">æ¯æ—¥ä»»å‹™</h2>
                    <div id="missionList" class="flex-1 overflow-y-auto custom-scroll flex flex-col gap-3"></div>
                </div>

                <!-- å•†åŸé¢æ¿ -->
                <div id="storePanel" class="hidden w-full h-[540px] flex flex-col gap-6">
                    <div class="text-[#39FF14] text-[10px] font-black tracking-[0.5em] mb-4 uppercase">MARKETPLACE</div>
                    <div class="w-full h-[220px] rounded-xl overflow-hidden border border-white/15 relative">
                        <img src="https://images.unsplash.com/photo-1614850523296-d8c1af93d400?auto=format&fit=crop&q=80&w=1200" class="w-full h-full object-cover brightness-75">
                        <div class="absolute inset-0 bg-gradient-to-r from-black/90 to-transparent flex flex-col justify-center px-12">
                            <span class="text-[#39FF14] text-[10px] font-black tracking-widest uppercase mb-1">Featured Selection</span>
                            <h2 class="text-4xl font-black italic uppercase text-white mb-2">é’é¾æ­¦è–ï¼šé™æ™‚å…¸è—å¤–è§€</h2>
                            <p class="text-sm text-white/60 max-w-md leading-relaxed">è£å‚™å‚³èªªä¸­çš„æ­¦å™¨ï¼Œè¦‹è­‰æ­¦å­¸å·”å³°ã€‚</p>
                        </div>
                    </div>
                    <div class="flex-1 overflow-y-auto custom-scroll pr-4 mt-2">
                        <div class="grid grid-cols-5 lg:grid-cols-8 gap-4">
                            <div class="store-item-card rounded-lg aspect-[4/5] flex items-center justify-center p-4">ğŸ’</div>
                            <div class="store-item-card rounded-lg aspect-[4/5] flex items-center justify-center p-4">ğŸ’</div>
                            <div class="store-item-card rounded-lg aspect-[4/5] flex items-center justify-center p-4">ğŸ’</div>
                            <div class="store-item-card rounded-lg aspect-[4/5] flex items-center justify-center p-4">ğŸª™</div>
                            <div class="store-item-card rounded-lg aspect-[4/5] flex items-center justify-center p-4">ğŸª™</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- 3. åº•éƒ¨è³‡è¨Š -->
        <footer class="relative z-20 h-16 bg-black/95 flex items-center justify-between px-10 border-t border-white/10">
            <div id="descText" class="text-sm font-bold text-white/50 tracking-widest uppercase transition-all duration-300">READY FOR INPUT</div>
            <div class="flex items-center gap-10 text-[10px] font-black text-white/30">
                <div class="flex gap-2"><span class="border border-white/30 px-2 rounded leading-none text-white">ENTER</span> CONFIRM</div>
                <div class="flex gap-2"><span class="border border-white/30 px-2 rounded leading-none text-white">ESC</span> BACK</div>
            </div>
        </footer>
    </div>

    <script>
        const charData = {
            'é—œç¾½': { portrait: 'https://images.unsplash.com/photo-1542751371-adc38448a05e?q=80&w=400' },
            'å¼µé£›': { portrait: 'https://images.unsplash.com/photo-1511512578047-dfb367046420?q=80&w=400' },
            'è«¸è‘›äº®': { portrait: 'https://images.unsplash.com/photo-1599508704512-2f19efd1e35f?q=80&w=400' },
            'è¶™é›²': { portrait: 'https://images.unsplash.com/photo-1542751371-adc38448a05e?q=80&w=400' },
            'å¤ä¾¯æƒ‡': { portrait: 'https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?q=80&w=400' },
            'å¤ä¾¯æ·µ': { portrait: 'https://images.unsplash.com/photo-1531427186611-ecfd6d936c79?q=80&w=400' },
            'è€å½§': { portrait: 'https://images.unsplash.com/photo-1493711662062-fa541adb3fc8?q=80&w=400' },
            'è²‚èŸ¬': { portrait: 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?q=80&w=400' },
            'å­«å°šé¦™': { portrait: 'https://images.unsplash.com/photo-1538481199705-c710c4e965fc?q=80&w=400' },
            'å‘‚å¸ƒ': { portrait: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=400' },
            'è‘£å“': { portrait: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=400' },
            'å­«å …': { portrait: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=400' }
        };

        const tabs = {
            'Online': { label: 'ONLINE MODES', items: ['æ’è¡Œå°æˆ°', 'å»ºç«‹æˆ¿é–“', 'ç·´ç¿’'], bg: 'https://images.unsplash.com/photo-1614850523296-d8c1af93d400?q=80&w=2070' },
            'Offline': { label: 'OFFLINE MODES', items: ['Roguelike', 'Arcade Mode', 'Player vs CPU', 'Player vs Player', 'TUTORIAL'], bg: 'https://images.unsplash.com/photo-1550745165-9bc0b252726f?q=80&w=2070' },
            'æ­¦å°‡': { label: 'GENERALS ARCHIVE', type: 'grid', items: Object.keys(charData), unlocked: ['é—œç¾½', 'å¼µé£›'], bg: 'https://images.unsplash.com/photo-1538481199705-c710c4e965fc?q=80&w=2070' },
            'é€šè¡Œè­‰': { label: 'BATTLE PASS', items: ['æœ¬æœˆé€šè¡Œè­‰'], bg: 'https://images.unsplash.com/photo-1616110129443-d18c99851a57?auto=format&fit=crop&q=80&w=2070' },
            'ä»»å‹™': { label: 'MISSIONS', type: 'mission', items: ['æ¯æ—¥', 'æ¯é€±', 'æ¯æœˆ', 'æˆå°±'], bg: 'https://images.unsplash.com/photo-1580234811497-9bd7fd0f37a9?q=80&w=2070' },
            'å•†åŸ': { label: 'MARKETPLACE', type: 'store', bg: 'https://images.unsplash.com/photo-1605810230434-7631ac76ec81?auto=format&fit=crop&q=80&w=2070' },
            'èƒŒåŒ…': { label: 'INVENTORY', items: ['æŒæœ‰é“å…·', 'åœ–é‘‘'], bg: 'https://images.unsplash.com/photo-1586769852044-692d6e3703f0?auto=format&fit=crop&q=80&w=2070' }
        };

        function switchTab(id) {
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.toggle('active', t.innerText === id));
            const data = tabs[id];
            if (!data) return;

            document.getElementById('categoryLabel').innerText = data.label;
            document.getElementById('mainBg').src = data.bg;
            
            const menu = document.getElementById('menuContainer');
            const left = document.getElementById('leftContentArea');
            const preview = document.getElementById('previewCard');
            const mission = document.getElementById('missionPanel');
            const store = document.getElementById('storePanel');
            menu.innerHTML = '';
            
            if (data.type === 'grid') {
                left.classList.remove('hidden');
                left.className = 'w-full h-full flex flex-col justify-center px-10';
                preview.classList.add('hidden'); mission.classList.add('hidden'); store.classList.add('hidden');
                menu.className = 'grid grid-cols-4 md:grid-cols-6 gap-6 max-w-6xl mx-auto mt-6';
                
                data.items.forEach(name => {
                    const isUn = data.unlocked.includes(name);
                    const f = document.createElement('div');
                    f.className = `portrait-frame ${isUn ? 'unlocked' : 'locked'}`;
                    f.innerHTML = `
                        <img src="${charData[name].portrait}" class="portrait-img">
                        ${!isUn ? '<div class="lock-icon">ğŸ”’</div>' : ''}
                        <div class="char-name-tag">${name}</div>
                    `;
                    menu.appendChild(f);
                });
            } else if (data.type === 'mission') {
                left.classList.remove('hidden');
                left.className = 'w-1/4 h-full flex flex-col justify-center';
                preview.classList.add('hidden'); mission.classList.remove('hidden'); store.classList.add('hidden');
                menu.className = 'flex flex-col gap-2';
                data.items.forEach((it, idx) => {
                    const div = document.createElement('div');
                    div.className = `menu-item text-5xl font-black uppercase ${idx === 0 ? 'active' : ''}`;
                    div.innerText = it;
                    div.onclick = () => {
                        document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active'));
                        div.classList.add('active');
                        renderMissions(it);
                    };
                    menu.appendChild(div);
                });
                renderMissions('æ¯æ—¥');
            } else if (data.type === 'store') {
                left.classList.add('hidden');
                preview.classList.add('hidden'); mission.classList.add('hidden'); store.classList.remove('hidden');
            } else {
                left.classList.remove('hidden');
                left.className = 'w-1/4 h-full flex flex-col justify-center';
                preview.classList.remove('hidden'); mission.classList.add('hidden'); store.classList.add('hidden');
                menu.className = 'flex flex-col gap-2';
                data.items.forEach((it, idx) => {
                    const div = document.createElement('div');
                    div.className = `menu-item text-5xl font-black uppercase ${idx === 0 ? 'active' : ''}`;
                    div.innerText = it;
                    div.onclick = () => {
                        if (it === 'Roguelike') {
                            launchGame('https://zeroggyy.github.io/zeroggyy/roguelike.html');
                        } else {
                            document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active'));
                            div.classList.add('active');
                        }
                    };
                    menu.appendChild(div);
                });
            }
        }

        function renderMissions(cat) {
            const list = document.getElementById('missionList');
            list.innerHTML = '';
            for(let i=1; i<=6; i++) {
                const d = document.createElement('div');
                d.className = 'p-4 bg-white/5 border border-white/10 rounded flex justify-between items-center';
                d.innerHTML = `<div class="text-xs font-black uppercase">${cat}é …ç›® ${i}</div>
                               <button class="px-3 py-1 border border-[#39FF14] text-[#39FF14] text-[10px] font-black">å‰å¾€</button>`;
                list.appendChild(d);
            }
        }

        function toggleDrawer(open) {
            const dr = document.getElementById('sideDrawer');
            const ov = document.getElementById('drawerOverlay');
            dr.style.transform = open ? 'translateX(0)' : 'translateX(-100%)';
            ov.style.opacity = open ? '1' : '0';
            ov.style.pointerEvents = open ? 'auto' : 'none';
        }

        // ç›´æ¥é–‹å•Ÿç¶²é è·³è½‰æ¨¡æ“¬
        function launchGame(url) {
            const overlay = document.getElementById('launchOverlay');
            overlay.classList.add('active');
            
            // æ›´æ–°ç‹€æ…‹åˆ—
            document.getElementById('descText').innerText = "BOOTING: ROGUELIKE_MODE.EXE";
            document.getElementById('descText').style.color = "#39FF14";

            // æ¨¡æ“¬è¼‰å…¥ 1 ç§’å¾Œé€²è¡Œè·³è½‰
            setTimeout(() => {
                window.location.href = url;
            }, 1200);
        }

        window.onload = () => switchTab('Online');
    </script>
</body>
</html>
