<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SGF Lobby UI - Dynamic Content</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700;900&display=swap');

        body {
            background-color: #000;
            color: white;
            font-family: 'Noto Sans TC', sans-serif;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
        }

        /* 16:9 Âõ∫ÂÆöÊØî‰æãÂÆπÂô® */
        .game-container {
            width: 100%;
            max-width: 177.78vh;
            aspect-ratio: 16 / 9;
            background: #000;
            position: relative;
            box-shadow: 0 0 100px rgba(0,0,0,0.9);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* Ê•µËá¥ÂÆâÂÖ®ËÉåÊôØÂ±§ */
        .background-layer {
            position: absolute;
            top: -10%;
            left: -10%;
            width: 120%;
            height: 120%;
            z-index: 0;
            overflow: hidden;
            pointer-events: none;
        }

        .bg-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.35) contrast(1.15);
            transition: transform 1.2s cubic-bezier(0.2, 1, 0.3, 1), filter 0.8s ease;
            will-change: transform;
            transform: scale(1.1); 
        }

        .bg-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(90deg, 
                rgba(0,0,0,1) 0%, 
                rgba(0,0,0,0.8) 15%, 
                rgba(0,0,0,0.1) 50%, 
                rgba(0,0,0,0.8) 85%, 
                rgba(0,0,0,1) 100%);
        }

        /* ‰∏≠Â§ÆÈÅ∏ÂñÆÈ†ÖÁõÆ (ÂûÇÁõ¥ÂàóË°®) */
        .menu-item {
            transition: all 0.3s cubic-bezier(0.2, 1, 0.3, 1);
            position: relative;
            cursor: pointer;
            letter-spacing: 2px;
            opacity: 0;
            animation: slideIn 0.4s ease-out forwards;
            white-space: nowrap;
            padding-left: 20px;
            width: fit-content;
            color: rgba(255, 255, 255, 0.4);
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .menu-item:hover, .menu-item.active {
            color: #39FF14;
            transform: translateX(15px);
            text-shadow: 0 0 20px rgba(57, 255, 20, 0.6);
        }

        .menu-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            width: 4px;
            height: 0;
            background: #39FF14;
            transition: height 0.3s, top 0.3s;
            transform: translateY(-50%);
        }

        .menu-item:hover::before, .menu-item.active::before {
            height: 80%;
        }

        /* Ê≠¶Â∞áÈ†≠ÂÉèÊ°ÜÊ®£Âºè */
        .portrait-frame {
            aspect-ratio: 1 / 1;
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .portrait-frame:hover {
            border-color: rgba(255,255,255,0.5);
            transform: scale(1.05);
            z-index: 10;
        }

        .portrait-frame.unlocked {
            border-color: rgba(57, 255, 20, 0.3);
            background: linear-gradient(135deg, rgba(57, 255, 20, 0.1), transparent);
        }

        .portrait-frame.unlocked:hover {
            border-color: #39FF14;
            box-shadow: 0 0 25px rgba(57, 255, 20, 0.5);
        }

        .portrait-frame.locked {
            filter: grayscale(1) opacity(0.4);
        }

        .portrait-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .lock-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 32px;
            opacity: 0.6;
            color: white;
        }

        .char-name {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(0deg, rgba(0,0,0,0.9), transparent);
            padding: 10px 4px;
            text-align: center;
            font-size: 14px;
            font-weight: 900;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        /* ‰ªªÂãôÂàóË°®È†ÖÊ®£Âºè */
        .mission-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.05);
            padding: 16px;
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s;
        }

        .mission-item:hover {
            background: rgba(255, 255, 255, 0.07);
            border-color: rgba(57, 255, 20, 0.2);
        }

        .mission-progress-bg {
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            width: 100%;
            border-radius: 2px;
            margin-top: 8px;
            overflow: hidden;
        }

        .mission-progress-fill {
            height: 100%;
            background: #39FF14;
            box-shadow: 0 0 10px #39FF14;
        }

        .mission-status-btn {
            padding: 6px 20px;
            font-size: 11px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-radius: 2px;
            transition: all 0.2s;
        }

        .status-go {
            border: 1px solid #39FF14;
            color: #39FF14;
        }

        .status-go:hover {
            background: #39FF14;
            color: black;
        }

        .status-done {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.3);
            pointer-events: none;
        }

        /* È†ÇÈÉ®ÂàÜÈ†ÅÂ∞éË¶Ω */
        .nav-tab {
            font-size: 11px;
            font-weight: 900;
            color: rgba(255, 255, 255, 0.3);
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            white-space: nowrap;
            padding: 12px 24px;
            position: relative;
            background: transparent;
        }

        .nav-tab:hover {
            color: rgba(255, 255, 255, 0.7);
        }

        .nav-tab.active {
            color: #39FF14;
            background: linear-gradient(180deg, rgba(57, 255, 20, 0.15) 0%, transparent 100%);
            text-shadow: 0 0 15px rgba(57, 255, 20, 0.6);
        }

        .nav-tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: #39FF14;
            box-shadow: 0 0 15px #39FF14;
            animation: tabUnderline 0.3s ease-out forwards;
        }

        @keyframes tabUnderline {
            from { width: 0; left: 50%; }
            to { width: 100%; left: 0; }
        }

        .bumper-hint {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 1px 8px;
            border-radius: 3px;
            font-size: 10px;
            font-weight: 900;
            color: rgba(255, 255, 255, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
        }

        .scanlines {
            position: absolute;
            inset: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.15) 50%);
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 10;
            opacity: 0.1;
        }

        /* ÂÅ¥ÈÇäÈÅ∏ÂñÆ */
        #sideDrawer {
            transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            z-index: 100;
        }

        #drawerOverlay {
            transition: opacity 0.4s ease;
            z-index: 90;
        }

        .drawer-item {
            transition: all 0.2s ease;
            cursor: pointer;
            border-left: 0px solid #39FF14;
        }

        .drawer-item:hover {
            background: rgba(57, 255, 20, 0.1);
            color: #39FF14;
            border-left-width: 6px;
            padding-left: 32px;
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        /* Ëá™ÂÆöÁæ©ÊªæÂãïÊ¢ù */
        .custom-scroll::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background: #39FF14;
            box-shadow: 0 0 10px #39FF14;
        }
    </style>
</head>
<body>

    <div class="game-container">
        <div class="scanlines"></div>

        <!-- ÂÅ¥ÈÇäÈÅ∏ÂñÆÈÅÆÁΩ© -->
        <div id="drawerOverlay" class="absolute inset-0 bg-black/70 opacity-0 pointer-events-none" onclick="toggleDrawer(false)"></div>

        <!-- ÂÅ¥ÈÇäÈÅ∏ÂñÆÂÖßÂÆπ -->
        <div id="sideDrawer" class="absolute inset-y-0 left-0 w-80 bg-[#0a0a0a]/95 border-r border-white/10 backdrop-blur-2xl -translate-x-full flex flex-col shadow-[20px_0_50px_rgba(0,0,0,0.5)]">
            <div class="p-10 border-b border-white/5">
                <div class="text-[10px] font-black text-[#39FF14] tracking-[0.4em] mb-2 uppercase">System Interface</div>
                <div class="text-2xl font-black italic tracking-tight">LEGEND_WARRIOR_01</div>
            </div>
            
            <div class="flex-1 py-6 flex flex-col">
                <div class="drawer-item px-10 py-4 font-black text-sm tracking-widest uppercase">ÂÄã‰∫∫Ë≥áÊñô</div>
                <div class="drawer-item px-10 py-4 font-black text-sm tracking-widest uppercase">ÊéíË°åÊ¶ú</div>
                <div class="drawer-item px-10 py-4 font-black text-sm tracking-widest uppercase">Ë®≠ÂÆö</div>
                <div class="drawer-item px-10 py-4 font-black text-sm tracking-widest uppercase">ÈÄöÁü•</div>
                <div class="drawer-item px-10 py-4 font-black text-sm tracking-widest uppercase">ÊîØÊè¥</div>
                <div class="mt-auto border-t border-white/5">
                    <div class="drawer-item px-10 py-8 font-black text-sm tracking-[0.2em] uppercase text-white/30 hover:text-red-500 hover:bg-red-500/10">Èõ¢ÈñãÈÅäÊà≤</div>
                </div>
            </div>
        </div>

        <!-- ËÉåÊôØÂ±§ -->
        <div class="background-layer">
            <img id="mainBg" src="https://images.unsplash.com/photo-1614850523296-d8c1af93d400?auto=format&fit=crop&q=80&w=2070" alt="Background" class="bg-image">
            <div class="bg-overlay"></div>
        </div>

        <!-- 1. È†ÇÈÉ®Â∞éË¶ΩÂ±§ -->
        <nav class="relative z-20 flex flex-col bg-black/85 backdrop-blur-xl border-b border-white/10">
            <div class="flex items-center justify-between px-10 py-4">
                <div class="flex items-center gap-10">
                    <div class="text-4xl font-black italic tracking-tighter text-white">SGF <span class="text-[10px] font-normal not-italic opacity-40 ml-1">LOBBY</span></div>
                    
                    <div class="flex items-center gap-4 pl-10 border-l border-white/15 cursor-pointer group" onclick="toggleDrawer(true)">
                        <div class="relative">
                            <div class="w-11 h-11 rounded-full border-2 border-[#39FF14] overflow-hidden bg-zinc-800 shadow-[0_0_15px_rgba(57,255,20,0.4)] group-hover:shadow-[0_0_25px_rgba(57,255,20,0.7)] transition-all">
                                <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&q=80&w=100" alt="Avatar" class="w-full h-full object-cover">
                            </div>
                            <div class="absolute -bottom-1 -right-1 w-3.5 h-3.5 bg-[#39FF14] rounded-full border-2 border-black"></div>
                        </div>
                        <div class="flex flex-col leading-none">
                            <span class="text-[9px] font-black text-[#39FF14] tracking-[0.2em] uppercase mb-1">Rank: Master</span>
                            <span class="text-sm font-black italic tracking-wide group-hover:text-[#39FF14] transition-colors">LEGEND_WARRIOR_01</span>
                        </div>
                    </div>
                </div>
                
                <div class="flex items-center gap-10">
                    <div class="flex items-center gap-4 bg-white/5 px-5 py-1.5 rounded-full border border-white/10">
                        <span class="text-white/30 text-[10px] font-black uppercase">Gems</span>
                        <span class="text-[#39FF14] font-mono font-black">12,400</span>
                    </div>
                    <div class="flex items-center gap-4 bg-white/5 px-5 py-1.5 rounded-full border border-white/10">
                        <span class="text-white/30 text-[10px] font-black uppercase">Gold</span>
                        <span class="text-yellow-400 font-mono font-black">850,000</span>
                    </div>
                </div>
            </div>

            <div class="flex items-center gap-4 px-10 py-0 bg-white/5 overflow-x-auto no-scrollbar">
                <div class="bumper-hint">L1</div>
                <div id="tabContainer" class="flex items-center">
                    <span class="nav-tab active" onclick="switchTab('Online')">Online</span>
                    <span class="nav-tab" onclick="switchTab('Offline')">Offline</span>
                    <span class="nav-tab" onclick="switchTab('Ê≠¶Â∞á')">Ê≠¶Â∞á</span>
                    <span class="nav-tab" onclick="switchTab('ÈÄöË°åË≠â')">ÈÄöË°åË≠â</span>
                    <span class="nav-tab" onclick="switchTab('‰ªªÂãô')">‰ªªÂãô</span>
                    <span class="nav-tab" onclick="switchTab('ÂïÜÂüé')">ÂïÜÂüé</span>
                    <span class="nav-tab" onclick="switchTab('Á§æÁæ§')">Á§æÁæ§</span>
                    <span class="nav-tab" onclick="switchTab('ËÉåÂåÖ')">ËÉåÂåÖ</span>
                    <span class="nav-tab" onclick="switchTab('Ë®≠ÂÆö')">Ë®≠ÂÆö</span>
                    <span class="nav-tab" onclick="switchTab('ÈÄöÁü•')">ÈÄöÁü•</span>
                </div>
                <div class="bumper-hint">R1</div>
            </div>
        </nav>

        <!-- 2. ‰∏≠Â§ÆÂÖßÂÆπÂ±§ -->
        <main class="relative z-20 flex-1 flex items-center px-20">
            <div class="w-1/3 flex flex-col justify-center h-full">
                <div id="categoryLabel" class="text-[#39FF14] text-[10px] font-black tracking-[0.5em] mb-6 opacity-80 uppercase">ONLINE MODES</div>
                <div id="menuContainer" class="flex flex-col gap-2"></div>
            </div>

            <!-- Âè≥ÂÅ¥Â±ïÁ§∫ÂçÄ (È†êË¶ΩÂç°ÁâáÊàñ‰ªªÂãôÊç≤Ëª∏) -->
            <div id="rightDisplayArea" class="flex-1 h-full flex items-center justify-end">
                <!-- È†êË¶ΩÂç°Áâá -->
                <div id="previewCard" class="w-80 p-6 bg-black/70 border border-white/15 backdrop-blur-xl rounded-xl shadow-2xl transition-all duration-500">
                    <div class="flex justify-between items-center mb-5">
                        <span id="previewLabel" class="text-[10px] font-black tracking-[0.2em] opacity-40 uppercase">System Ready</span>
                        <span id="statusBadge" class="text-[10px] border border-[#39FF14] text-[#39FF14] px-3 py-0.5 rounded-full font-black">LOBBY</span>
                    </div>
                    <div class="aspect-video bg-zinc-800 rounded-lg overflow-hidden mb-5 border border-white/10">
                        <img id="previewImg" src="https://images.unsplash.com/photo-1542751371-adc38448a05e?auto=format&fit=crop&q=80&w=600" class="w-full h-full object-cover mix-blend-luminosity">
                    </div>
                    <h3 id="previewTitle" class="text-xl font-black mb-2 italic">Ê∫ñÂÇôÂ∞±Á∑í</h3>
                    <p id="previewDesc" class="text-xs text-white/40 leading-relaxed font-medium">ÂàáÊèõÂ∞éËà™ÂàÜÈ†Å‰ª•Ê™¢Ë¶ñ‰∏çÂêåÁ≥ªÁµ±ÁöÑÂäüËÉΩÂàóË°®„ÄÇ</p>
                </div>

                <!-- ‰ªªÂãôÂàóË°®Èù¢Êùø (È†êË®≠Èö±Ëóè) -->
                <div id="missionPanel" class="hidden w-[500px] h-[420px] bg-black/70 border border-white/15 backdrop-blur-xl rounded-xl p-6 flex flex-col">
                    <div class="flex justify-between items-center mb-6">
                        <h2 id="missionPanelTitle" class="text-xl font-black italic text-[#39FF14]">ÊØèÊó•‰ªªÂãô</h2>
                        <span class="text-[10px] font-black opacity-40 uppercase tracking-widest">MISSION SCROLL</span>
                    </div>
                    <div id="missionList" class="flex-1 overflow-y-auto custom-scroll pr-2 flex flex-col gap-3">
                        <!-- JavaScript ÊúÉÂú®ÈÄôË£°Ê≥®ÂÖ•‰ªªÂãôÈ†ÖÁõÆ -->
                    </div>
                </div>
            </div>
        </main>

        <!-- 3. Â∫ïÈÉ®Ë≥áË®äÂ±§ -->
        <footer class="relative z-20 h-16 bg-black/95 flex items-center justify-between px-10 border-t border-white/10">
            <div class="flex items-center gap-5">
                <div class="w-1.5 h-1.5 bg-[#39FF14] rotate-45 shadow-[0_0_10px_#39FF14]"></div>
                <div id="descText" class="text-sm font-bold text-white/50 tracking-widest uppercase transition-all duration-300">
                    PLEASE SELECT A SUB-SYSTEM FROM THE TOP MENU
                </div>
            </div>
            <div class="flex items-center gap-10 text-[10px] font-black tracking-[0.2em] text-white/30">
                <div class="flex items-center gap-3">
                    <span class="text-white border border-white/30 px-2 py-0.5 rounded leading-none">ENTER</span>
                    <span>CONFIRM</span>
                </div>
                <div class="flex items-center gap-3">
                    <span class="text-white border border-white/30 px-2 py-0.5 rounded leading-none">ESC</span>
                    <span>BACK</span>
                </div>
            </div>
        </footer>
    </div>

    <script>
        const missionMockData = [
            { title: 'È¶ñÊà∞ÂãùÂà©', desc: 'Âú®‰ªª‰ΩïÁ∑ö‰∏äÊ®°Âºè‰∏≠Áç≤Âæó‰∏ÄÂ†¥ÂãùÂà©„ÄÇ', progress: 1, total: 1, reward: 'Gems x 50', status: 'done' },
            { title: 'ÈÄ£ÊÆµÂ§ßÂ∏´', desc: 'Âú®Â∞çÊà∞‰∏≠ÈÅîÊàê 20 Ê¨°‰ª•‰∏äÁöÑÈÄ£Êìä„ÄÇ', progress: 15, total: 20, reward: 'Gold x 2000', status: 'go' },
            { title: 'Â•ΩÂèãÈõÜÁµê', desc: 'ËàáÂ•ΩÂèãÁµÑÈöäÈÄ≤Ë°å‰∏ÄÂ†¥ 2X2 Â∞çÊà∞„ÄÇ', progress: 0, total: 1, reward: 'Chest x 1', status: 'go' },
            { title: 'Ê≠¶È≠ÇË¶∫ÈÜí', desc: 'Á¥ØË®àÊ∂àËÄó 1000 ÈªûÈ´îÂäõ„ÄÇ', progress: 850, total: 1000, reward: 'Gems x 20', status: 'go' },
            { title: 'ÊØèÊó•Â∑°ÈÇè', desc: 'ÁôªÂÖ•ÈÅäÊà≤‰∏¶Âú®Â§ßÂª≥ÂÅúÁïôË∂ÖÈÅé 10 ÂàÜÈêò„ÄÇ', progress: 1, total: 1, reward: 'Gold x 500', status: 'done' },
            { title: 'Ê•µËá¥ÊåëÊà∞', desc: 'Âú® Offline Èõ£Â∫¶‰∏ãÊìäÊïó AI Â∞çÊâã„ÄÇ', progress: 0, total: 3, reward: 'EXP x 100', status: 'go' }
        ];

        const tabData = {
            'Online': { label: 'ONLINE MODES', items: ['ÊéíË°åÂ∞çÊà∞', 'Âª∫Á´ãÊàøÈñì', 'Á∑¥Áøí'], footer: 'ËàáÂÖ®ÁêÉÁé©ÂÆ∂Âç≥ÊôÇÁ´∂ÊäÄÔºåÊèêÂçá‰Ω†ÁöÑÂÖ®ÁêÉÊéíÂêç„ÄÇ', bg: 'https://images.unsplash.com/photo-1614850523296-d8c1af93d400?auto=format&fit=crop&q=80&w=2070' },
            'Offline': { label: 'OFFLINE MODES', items: ['Roguelike', 'Arcade Mode', 'Player vs CPU', 'Player vs Player', 'TUTORIAL'], footer: 'Âú®Êú¨Âú∞Ê®°Âºè‰∏≠Á£®Á∑¥ÊäÄÂ∑ßÔºåÊàñÈ´îÈ©ó Roguelike ÁöÑÈö®Ê©üÊåëÊà∞„ÄÇ', bg: 'https://images.unsplash.com/photo-1550745165-9bc0b252726f?auto=format&fit=crop&q=80&w=2070' },
            'Ê≠¶Â∞á': { 
                label: 'GENERALS ARCHIVE', 
                viewType: 'grid',
                items: [
                    { name: 'ÈóúÁæΩ', unlocked: true, portrait: 'https://images.unsplash.com/photo-1542751371-adc38448a05e?q=80&w=400' },
                    { name: 'ÂºµÈ£õ', unlocked: true, portrait: 'https://images.unsplash.com/photo-1511512578047-dfb367046420?q=80&w=400' },
                    { name: 'Ë´∏Ëëõ‰∫Æ', unlocked: false, portrait: '' },
                    { name: 'Ë∂ôÈõ≤', unlocked: false, portrait: '' },
                    { name: 'Â§è‰æØÊÉá', unlocked: false, portrait: '' },
                    { name: 'Â§è‰æØÊ∑µ', unlocked: false, portrait: '' },
                    { name: 'ËçÄÂΩß', unlocked: false, portrait: '' },
                    { name: 'Ë≤ÇËü¨', unlocked: false, portrait: '' },
                    { name: 'Â≠´Â∞öÈ¶ô', unlocked: false, portrait: '' },
                    { name: 'ÂëÇÂ∏É', unlocked: false, portrait: '' },
                    { name: 'Ëë£Âçì', unlocked: false, portrait: '' },
                    { name: 'Â≠´Â†Ö', unlocked: false, portrait: '' }
                ], 
                footer: 'Ê™¢Ë¶ñÊ≠¶Â∞áÊ™îÊ°à‰∏¶ÈÖçÁΩÆÂá∫Êà∞Ëã±ÈõÑ„ÄÇ', 
                bg: 'https://images.unsplash.com/photo-1538481199705-c710c4e965fc?auto=format&fit=crop&q=80&w=2070' 
            },
            'ÈÄöË°åË≠â': { label: 'BATTLE PASS', items: ['Êú¨ÊúàÈÄöË°åË≠â'], footer: 'Êü•ÁúãÊú¨ÊúàË≥ΩÂ≠£ÁçéÂãµÔºåËß£ÈéñÈôêÂÆöÊ≠¶Â∞áËàáÂ§ñËßÄ„ÄÇ', bg: 'https://images.unsplash.com/photo-1616110129443-d18c99851a57?auto=format&fit=crop&q=80&w=2070' },
            '‰ªªÂãô': { 
                label: 'MISSIONS', 
                viewType: 'mission',
                items: ['ÊØèÊó•', 'ÊØèÈÄ±', 'ÊØèÊúà', 'Ê¥ªÂãï', 'ÊàêÂ∞±'], 
                footer: 'ÂÆåÊàêÂêÑÁ®ÆÁõÆÊ®ô‰ª•Áç≤Âæó Gems„ÄÅGold ËàáÁ∂ìÈ©óÂÄº„ÄÇ', 
                bg: 'https://images.unsplash.com/photo-1580234811497-9bd7fd0f37a9?auto=format&fit=crop&q=80&w=2070' 
            },
            'ÂïÜÂüé': { label: 'STORE', items: ['ÈôêÊôÇÁâπÊÉ†', 'Ê≠¶Â∞áÂïÜÂ∫ó', 'Â§ñËßÄÂïÜÂ∫ó', 'Ë≥áÊ∫êÂÖåÊèõ'], footer: '‰ΩøÁî® Gems Êàñ Gold Ë≥ºË≤∑ÊúÄÊñ∞ÁöÑÈÅäÊà≤ÈÅìÂÖ∑„ÄÇ', bg: 'https://images.unsplash.com/photo-1605810230434-7631ac76ec81?auto=format&fit=crop&q=80&w=2070' },
            'Á§æÁæ§': { label: 'SOCIAL', items: ['Â•ΩÂèãÊ∏ÖÂñÆ', 'ÂÆ∂Êóè', 'Â∞çÊà∞ÈáçÊí≠', 'ÊéíË°åÊ¶ú'], footer: 'ÁÆ°ÁêÜÁ§æ‰∫§Èóú‰øÇÔºåËàáÂÆ∂ÊóèÊàêÂì°‰∫íÂãïÊàñÊü•ÁúãÂÖ®ÁêÉÊéíË°åÊ¶ú„ÄÇ', bg: 'https://images.unsplash.com/photo-1529156069898-49953e39b3ac?auto=format&fit=crop&q=80&w=2070' },
            'ËÉåÂåÖ': { label: 'INVENTORY', items: ['Êü•ÁúãÊâÄÊúâÁâ©ÂìÅ', 'ÂúñÈëë'], footer: 'ÁÄèË¶ΩÁõÆÂâçÊìÅÊúâÁöÑÁ¥†Êùê„ÄÅÈÅìÂÖ∑ËàáËß£ÈéñÁöÑÊ≠¶Â∞áÂúñÈëë„ÄÇ', bg: 'https://images.unsplash.com/photo-1586769852044-692d6e3703f0?auto=format&fit=crop&q=80&w=2070' },
            'Ë®≠ÂÆö': { label: 'SETTINGS', items: ['Á≥ªÁµ±Ë®≠ÂÆöÈ†ÖÁõÆ'], footer: 'Ë™øÊï¥È°ØÁ§∫„ÄÅÈü≥Êïà„ÄÅÊìç‰ΩúÊåâÈçµËàáÂ∏≥ËôüÂÆâÂÖ®Ë®≠ÂÆö„ÄÇ', bg: 'https://images.unsplash.com/photo-1551033406-611cf9a28f67?auto=format&fit=crop&q=80&w=2070' },
            'ÈÄöÁü•': { label: 'NOTIFICATIONS', items: ['Á≥ªÁµ±ÈÉµ‰ª∂', 'Ê¥ªÂãïÈÄöÁü•'], footer: 'Êü•ÁúãÊúÄÊñ∞ÁöÑÁ≥ªÁµ±ÈÉµ‰ª∂ÂõûÈ•ãËàáÈ†òÂèñÁçéÂãµ„ÄÇ', bg: 'https://images.unsplash.com/photo-1577563908411-5077b6ac7a20?auto=format&fit=crop&q=80&w=2070' }
        };

        function switchTab(tabId) {
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
                if (tab.innerText === tabId) tab.classList.add('active');
            });

            const data = tabData[tabId];
            if (!data) return;

            document.getElementById('categoryLabel').innerText = data.label;
            document.getElementById('mainBg').src = data.bg;
            document.getElementById('descText').innerText = data.footer;

            const container = document.getElementById('menuContainer');
            const previewCard = document.getElementById('previewCard');
            const missionPanel = document.getElementById('missionPanel');
            container.innerHTML = '';
            
            // È†ÅÈù¢‰ΩàÂ±ÄÊéßÂà∂
            if (data.viewType === 'grid') {
                previewCard.classList.add('hidden');
                missionPanel.classList.add('hidden');
                container.className = 'grid grid-cols-4 md:grid-cols-6 gap-6 w-[800px] mt-10';
                
                data.items.forEach((char, index) => {
                    const frame = document.createElement('div');
                    frame.className = `portrait-frame ${char.unlocked ? 'unlocked' : 'locked'}`;
                    frame.innerHTML = `
                        ${char.portrait ? `<img src="${char.portrait}" class="portrait-img">` : '<div class="w-full h-full bg-zinc-800/50"></div>'}
                        ${!char.unlocked ? '<div class="lock-icon">üîí</div>' : ''}
                        <div class="char-name">${char.name}</div>
                    `;
                    container.appendChild(frame);
                });
            } else if (data.viewType === 'mission') {
                previewCard.classList.add('hidden');
                missionPanel.classList.remove('hidden');
                container.className = 'flex flex-col gap-2';
                
                data.items.forEach((item, index) => {
                    const div = document.createElement('div');
                    div.className = `menu-item text-5xl font-black uppercase ${index === 0 ? 'active' : ''}`;
                    div.innerText = item;
                    div.onclick = () => {
                        document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active'));
                        div.classList.add('active');
                        renderMissions(item);
                    };
                    container.appendChild(div);
                });
                renderMissions('ÊØèÊó•'); // È†êË®≠È°ØÁ§∫ÊØèÊó•
            } else {
                previewCard.classList.remove('hidden');
                missionPanel.classList.add('hidden');
                container.className = 'flex flex-col gap-2';
                
                data.items.forEach((item, index) => {
                    const div = document.createElement('div');
                    div.className = `menu-item text-5xl font-black uppercase ${index === 0 ? 'active' : ''}`;
                    div.innerText = item;
                    div.onclick = () => {
                        document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active'));
                        div.classList.add('active');
                    };
                    container.appendChild(div);
                });
            }
        }

        function renderMissions(category) {
            document.getElementById('missionPanelTitle').innerText = category + '‰ªªÂãô';
            const listContainer = document.getElementById('missionList');
            listContainer.innerHTML = '';
            
            missionMockData.forEach((m, i) => {
                const item = document.createElement('div');
                item.className = 'mission-item';
                item.style.animation = `slideIn 0.3s ease-out forwards ${i * 0.05}s`;
                
                const progressWidth = (m.progress / m.total) * 100;
                
                item.innerHTML = `
                    <div class="flex-1 pr-6">
                        <div class="flex justify-between items-end mb-1">
                            <h4 class="font-black italic text-sm text-white/90">${m.title}</h4>
                            <span class="text-[10px] font-mono text-white/30">${m.progress}/${m.total}</span>
                        </div>
                        <p class="text-[10px] text-white/40 mb-2">${m.desc}</p>
                        <div class="flex items-center gap-2">
                            <span class="text-[9px] font-black text-[#39FF14] uppercase">REWARD:</span>
                            <span class="text-[9px] text-white/60">${category}${m.reward}</span>
                        </div>
                        <div class="mission-progress-bg">
                            <div class="mission-progress-fill" style="width: ${progressWidth}%"></div>
                        </div>
                    </div>
                    <button class="mission-status-btn ${m.status === 'done' ? 'status-done' : 'status-go'}">
                        ${m.status === 'done' ? 'Â∑≤È†òÂèñ' : 'ÂâçÂæÄ'}
                    </button>
                `;
                listContainer.appendChild(item);
            });
        }

        function toggleDrawer(isOpen) {
            const drawer = document.getElementById('sideDrawer');
            const overlay = document.getElementById('drawerOverlay');
            if (isOpen) {
                drawer.style.transform = 'translateX(0)';
                overlay.style.opacity = '1';
                overlay.style.pointerEvents = 'auto';
            } else {
                drawer.style.transform = 'translateX(-100%)';
                overlay.style.opacity = '0';
                overlay.style.pointerEvents = 'none';
            }
        }

        window.onload = () => {
            switchTab('Online');
        };
    </script>
</body>
</html>
